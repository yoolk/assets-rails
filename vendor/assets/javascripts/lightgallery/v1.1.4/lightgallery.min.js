/** ==========================================================

* jquery lightGallery.js v1.1.4 : Yoolk.InstantWebsite Custome
  * Change defuatl behavior from data source find by <img src=""> change to attr('data-src') render to render thumbnail in popup line: 456.

-------------------------- Original Library------------------ 
* http://sachinchoolur.github.io/lightGallery/
* Released under the MIT License - http://opensource.org/licenses/mit-license.html  ---- FREE ----

=========================================================/**/
(function(e){"use strict";e.fn.lightGallery=function(t){var n={mode:"slide",useCSS:true,cssEasing:"ease",easing:"linear",speed:600,addClass:"",closable:true,loop:false,auto:false,pause:4e3,escKey:true,controls:true,hideControlOnEnd:false,preload:1,showAfterLoad:true,selector:null,index:false,lang:{allPhotos:"All photos"},counter:false,exThumbImage:false,thumbnail:true,showThumbByDefault:false,animateThumb:true,currentPagerPosition:"middle",thumbWidth:100,thumbMargin:5,mobileSrc:false,mobileSrcMaxWidth:640,swipeThreshold:50,enableTouch:true,enableDrag:true,vimeoColor:"CCCCCC",videoAutoplay:true,videoMaxWidth:"855px",dynamic:false,dynamicEl:[],onOpen:function(e){},onSlideBefore:function(e){},onSlideAfter:function(e){},onSlideNext:function(e){},onSlidePrev:function(e){},onBeforeClose:function(e){},onCloseAfter:function(e){}},r=e(this),i=this,s=null,o=0,u=false,a=false,f=document.createTouch!==undefined||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,l,c,h,p,d,v,m,g,y,b,w,E=false,S=false,x=false;var T=e.extend(true,{},n,t);var N={init:function(){r.each(function(){var t=e(this);if(T.dynamic){s=T.dynamicEl;o=0;m=o;C.init(o)}else{if(T.selector!==null){s=e(T.selector)}else{s=t.children()}s.on("click",function(n){if(T.selector!==null){s=e(T.selector)}else{s=t.children()}n.preventDefault();n.stopPropagation();o=s.index(this);m=o;C.init(o)})}})}};var C={init:function(){u=true;this.structure();this.getWidth();this.closeSlide();this.autoStart();this.counter();this.slideTo();this.buildThumbnail();this.keyPress();if(T.index){this.slide(T.index);this.animateThumb(T.index)}else{this.slide(o);this.animateThumb(o)}if(T.enableDrag){this.touch()}if(T.enableTouch){this.enableTouch()}setTimeout(function(){l.addClass("opacity")},50)},structure:function(){e("body").append('<div id="lightGallery-outer" class="'+T.addClass+'"><div id="lightGallery-Gallery"><div id="lightGallery-slider"></div><a id="lightGallery-close" class="close"></a></div></div>').addClass("lightGallery");c=e("#lightGallery-outer");l=e("#lightGallery-Gallery");if(T.showAfterLoad===true){l.addClass("showAfterLoad")}h=l.find("#lightGallery-slider");var t="";if(T.dynamic){for(var n=0;n<T.dynamicEl.length;n++){t+='<div class="lightGallery-slide"></div>'}}else{s.each(function(){t+='<div class="lightGallery-slide"></div>'})}h.append(t);p=l.find(".lightGallery-slide")},closeSlide:function(){var t=this;if(T.closable){e("#lightGallery-outer").on("click",function(t){if(e(t.target).is(".lightGallery-slide")){i.destroy(false)}})}e("#lightGallery-close").bind("click touchend",function(){i.destroy(false)})},getWidth:function(){var t=function(){b=e(window).width()};e(window).bind("resize.lightGallery",t())},doCss:function(){var e=function(){var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var t=document.documentElement;for(var n=0;n<e.length;n++){if(e[n]in t.style){return true}}};if(T.useCSS&&e()){return true}return false},enableTouch:function(){var t=this;if(f){var n={},r={};e("body").on("touchstart.lightGallery",function(e){r=e.originalEvent.targetTouches[0];n.pageX=e.originalEvent.targetTouches[0].pageX;n.pageY=e.originalEvent.targetTouches[0].pageY});e("body").on("touchmove.lightGallery",function(e){var t=e.originalEvent;r=t.targetTouches[0];e.preventDefault()});e("body").on("touchend.lightGallery",function(e){var i=r.pageX-n.pageX,s=T.swipeThreshold;if(i>=s){t.prevSlide();clearInterval(w)}else if(i<=-s){t.nextSlide();clearInterval(w)}})}},touch:function(){var t,n;var r=this;e(".lightGallery").bind("mousedown",function(e){e.stopPropagation();e.preventDefault();t=e.pageX});e(".lightGallery").bind("mouseup",function(e){e.stopPropagation();e.preventDefault();n=e.pageX;if(n-t>20){r.prevSlide()}else if(t-n>20){r.nextSlide()}})},isVideo:function(e,t){var n=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9_\-]+)/i);var r=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);var i=false;if(T.dynamic){if(T.dynamicEl[t].iframe=="true"){i=true}}else{if(s.eq(t).attr("data-iframe")=="true"){i=true}}if(n||r||i){return true}},loadVideo:function(e,t){var n=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9_\-]+)/i);var r=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);var i="";var s="";if(n){if(T.videoAutoplay===true&&a===false){s="?autoplay=1&rel=0&wmode=opaque"}else{s="?wmode=opaque"}i='<iframe class="object" width="560" height="315" src="//www.youtube.com/embed/'+n[1]+s+'" frameborder="0" allowfullscreen></iframe>'}else if(r){if(T.videoAutoplay===true&&a===false){s="autoplay=1&"}else{s=""}i='<iframe class="object" id="video'+t+'" width="560" height="315"  src="http://player.vimeo.com/video/'+r[1]+"?"+s+"byline=0&portrait=0&color="+T.vimeoColor+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}else{i='<iframe class="object" frameborder="0" src="'+e+'"  allowfullscreen="true"></iframe>'}return'<div class="video_cont" style="max-width:'+T.videoMaxWidth+' !important;"><div class="video">'+i+"</div></div>"},addHtml:function(t){var n=null;if(T.dynamic){n=T.dynamicEl[t]["sub-html"]}else{n=s.eq(t).attr("data-sub-html")}if(typeof n!=="undefined"&&n!==null){var r=n.substring(0,1);if(r=="."||r=="#"){n=e(n).html()}else{n=n}p.eq(t).append(n)}},preload:function(e){var t=e;for(var n=0;n<=T.preload;n++){if(n>=s.length-e){break}this.loadContent(t+n,true)}for(var r=0;r<=T.preload;r++){if(t-r<0){break}this.loadContent(t-r,true)}},loadObj:function(e,t){var n=this;p.eq(t).find(".object").on("load error",function(){p.eq(t).addClass("complete")});if(e===false){if(!p.eq(t).hasClass("complete")){p.eq(t).find(".object").on("load error",function(){n.preload(t)})}else{n.preload(t)}}},loadContent:function(t,n){var r=this;var i,o,u=s.length-t;var a;if(T.preload>s.length){T.preload=s.length}if(T.mobileSrc===true&&b<=T.mobileSrcMaxWidth){if(T.dynamic){a=T.dynamicEl[t].mobileSrc}else{a=s.eq(t).attr("data-responsive-src")}}else{if(T.dynamic){a=T.dynamicEl[t].src}else{a=s.eq(t).attr("data-src")}}var f=0;if(n===true){f=T.speed+400}if(typeof a!=="undefined"&&a!==""){if(!r.isVideo(a,t)){setTimeout(function(){if(!p.eq(t).hasClass("loaded")){p.eq(t).prepend('<img class="object" src="'+a+'" />');r.addHtml(t);p.eq(t).addClass("loaded")}r.loadObj(n,t)},f)}else{setTimeout(function(){if(!p.eq(t).hasClass("loaded")){p.eq(t).prepend(r.loadVideo(a,t));r.addHtml(t);p.eq(t).addClass("loaded");if(T.auto&&T.videoAutoplay===true){clearInterval(w)}}r.loadObj(n,t)},f)}}else{setTimeout(function(){if(!p.eq(t).hasClass("loaded")){var i=null;if(T.dynamic){i=T.dynamicEl[t].html}else{i=s.eq(t).attr("data-html")}if(typeof i!=="undefined"&&i!==null){var o=i.substring(0,1);if(o=="."||o=="#"){i=e(i).html()}else{i=i}}if(typeof i!=="undefined"&&i!==null){p.eq(t).append('<div class="video_cont" style="max-width:'+T.videoMaxWidth+' !important;"><div class="video">'+i+"</div></div>")}r.addHtml(t);p.eq(t).addClass("loaded complete");if(T.auto&&T.videoAutoplay===true){clearInterval(w)}}r.loadObj(n,t)},f)}},counter:function(){if(T.counter===true){var t=e("#lightGallery-slider > div").length;l.append("<div id='lightGallery_counter'><span id='lightGallery_counter_current'></span> / <span id='lightGallery_counter_all'>"+t+"</span></div>")}},buildThumbnail:function(){if(T.thumbnail===true&&s.length>1){var t=this,n="";if(!T.showThumbByDefault){n='<span class="close ib"><i class="bUi-iCn-rMv-16" aria-hidden="true"></i></span>'}l.append('<div class="thumb_cont"><div class="thumb_info">'+n+'</div><div class="thumb_inner"></div></div>');g=l.find(".thumb_cont");d.after('<a class="cLthumb"></a>');d.parent().addClass("hasThumb");l.find(".cLthumb").bind("click touchend",function(){l.addClass("open");if(t.doCss()&&T.mode==="slide"){p.eq(o).prevAll().removeClass("nextSlide").addClass("prevSlide");p.eq(o).nextAll().removeClass("prevSlide").addClass("nextSlide")}});l.find(".thumb_cont .close").bind("click touchend",function(){l.removeClass("open")});var r=l.find(".thumb_info");var i=l.find(".thumb_inner");var u="";var a;if(T.dynamic){for(var f=0;f<T.dynamicEl.length;f++){a=T.dynamicEl[f].thumb;u+='<div class="thumb"><img src="'+a+'" /></div>'}}else{s.each(function(){if(T.exThumbImage===false||typeof e(this).attr(T.exThumbImage)=="undefined"||e(this).attr(T.exThumbImage)===null){a=e(this).attr("data-src")}else{a=e(this).attr(T.exThumbImage)}u+='<div class="thumb"><img src="'+a+'" /></div>'})}i.append(u);y=i.find(".thumb");y.css({"margin-right":T.thumbMargin+"px",width:T.thumbWidth+"px"});if(T.animateThumb===true){var c=s.length*(T.thumbWidth+T.thumbMargin);l.find(".thumb_inner").css({width:c+"px",position:"relative","transition-duration":T.speed+"ms"})}y.bind("click touchend",function(){E=true;var n=e(this).index();y.removeClass("active");e(this).addClass("active");t.slide(n);t.animateThumb(n);clearInterval(w)});r.prepend('<span class="ib count">'+T.lang.allPhotos+" ("+y.length+")</span>");if(T.showThumbByDefault){l.addClass("open")}}},animateThumb:function(e){if(T.animateThumb===true){var t=l.find(".thumb_cont").width();var n;switch(T.currentPagerPosition){case"left":n=0;break;case"middle":n=t/2-T.thumbWidth/2;break;case"right":n=t-T.thumbWidth}var r=(T.thumbWidth+T.thumbMargin)*e-1-n;var i=s.length*(T.thumbWidth+T.thumbMargin);if(r>i-t){r=i-t}if(r<0){r=0}if(this.doCss()){l.find(".thumb_inner").css("transform","translate3d(-"+r+"px, 0px, 0px)")}else{l.find(".thumb_inner").animate({left:-r+"px"},T.speed)}}},slideTo:function(){var e=this;if(T.controls===true&&s.length>1){l.append('<div id="lightGallery-action"><a id="lightGallery-prev"></a><a id="lightGallery-next"></a></div>');d=l.find("#lightGallery-prev");v=l.find("#lightGallery-next");d.bind("click",function(){e.prevSlide();clearInterval(w)});v.bind("click",function(){e.nextSlide();clearInterval(w)})}},autoStart:function(){var e=this;if(T.auto===true){w=setInterval(function(){if(o+1<s.length){o=o}else{o=-1}o++;e.slide(o)},T.pause)}},keyPress:function(){var t=this;e(window).bind("keyup.lightGallery",function(e){e.preventDefault();e.stopPropagation();if(e.keyCode===37){t.prevSlide();clearInterval(w)}if(e.keyCode===38&&T.thumbnail===true&&s.length>1){if(!l.hasClass("open")){if(t.doCss()&&T.mode==="slide"){p.eq(o).prevAll().removeClass("nextSlide").addClass("prevSlide");p.eq(o).nextAll().removeClass("prevSlide").addClass("nextSlide")}l.addClass("open")}}else if(e.keyCode===39){t.nextSlide();clearInterval(w)}if(e.keyCode===40&&T.thumbnail===true&&s.length>1&&!T.showThumbByDefault){if(l.hasClass("open")){l.removeClass("open")}}else if(T.escKey===true&&e.keyCode===27){if(!T.showThumbByDefault&&l.hasClass("open")){l.removeClass("open")}else{i.destroy(false)}}})},nextSlide:function(){var e=this;o=p.index(p.eq(m));if(o+1<s.length){o++;e.slide(o)}else{if(T.loop){o=0;e.slide(o)}else if(T.thumbnail===true&&s.length>1&&!T.showThumbByDefault){l.addClass("open")}else{p.eq(o).find(".object").addClass("rightEnd");setTimeout(function(){p.find(".object").removeClass("rightEnd")},400)}}e.animateThumb(o);T.onSlideNext.call(this,i)},prevSlide:function(){var e=this;o=p.index(p.eq(m));if(o>0){o--;e.slide(o)}else{if(T.loop){o=s.length-1;e.slide(o)}else if(T.thumbnail===true&&s.length>1&&!T.showThumbByDefault){l.addClass("open")}else{p.eq(o).find(".object").addClass("leftEnd");setTimeout(function(){p.find(".object").removeClass("leftEnd")},400)}}e.animateThumb(o);T.onSlidePrev.call(this,i)},slide:function(t){var n=this;if(a){setTimeout(function(){n.loadContent(t,false)},T.speed+400);if(!h.hasClass("on")){h.addClass("on")}if(this.doCss()&&T.speed!==""){if(!h.hasClass("speed")){h.addClass("speed")}if(x===false){h.css("transition-duration",T.speed+"ms");x=true}}if(this.doCss()&&T.cssEasing!==""){if(!h.hasClass("timing")){h.addClass("timing")}if(S===false){h.css("transition-timing-function",T.cssEasing);S=true}}T.onSlideBefore.call(this,i)}else{n.loadContent(t,false)}if(T.mode==="slide"){var r=navigator.userAgent.match(/iPad/i)!==null;if(this.doCss()&&!h.hasClass("slide")&&!r){h.addClass("slide")}else if(this.doCss()&&!h.hasClass("useLeft")&&r){h.addClass("useLeft")}if(!this.doCss()&&!a){h.css({left:-t*100+"%"})}else if(!this.doCss()&&a){h.animate({left:-t*100+"%"},T.speed,T.easing)}}else if(T.mode==="fade"){if(this.doCss()&&!h.hasClass("fadeM")){h.addClass("fadeM")}else if(!this.doCss()&&!h.hasClass("animate")){h.addClass("animate")}if(!this.doCss()&&!a){p.fadeOut(100);p.eq(t).fadeIn(100)}else if(!this.doCss()&&a){p.eq(m).fadeOut(T.speed,T.easing);p.eq(t).fadeIn(T.speed,T.easing)}}if(t+1>=s.length&&T.auto&&T.loop===false){clearInterval(w)}p.eq(m).removeClass("current");p.eq(t).addClass("current");if(this.doCss()&&T.mode==="slide"){if(E===false){e(".prevSlide").removeClass("prevSlide");e(".nextSlide").removeClass("nextSlide");p.eq(t-1).addClass("prevSlide");p.eq(t+1).addClass("nextSlide")}else{p.eq(t).prevAll().removeClass("nextSlide").addClass("prevSlide");p.eq(t).nextAll().removeClass("prevSlide").addClass("nextSlide")}}if(T.thumbnail===true&&s.length>1){y.removeClass("active");y.eq(t).addClass("active")}if(T.controls&&T.hideControlOnEnd&&T.loop===false&&s.length>1){var o=s.length;o=parseInt(o)-1;if(t===0){d.addClass("disabled");v.removeClass("disabled")}else if(t===o){d.removeClass("disabled");v.addClass("disabled")}else{d.add(v).removeClass("disabled")}}m=t;a===false?T.onOpen.call(this,i):T.onSlideAfter.call(this,i);setTimeout(function(){a=true});E=false;if(T.counter){e("#lightGallery_counter_current").text(t+1)}e(window).bind("resize.lightGallery",function(){setTimeout(function(){n.animateThumb(t)},200)})}};i.isActive=function(){if(u===true){return true}else{return false}};i.destroy=function(t){u=false;t=typeof t!=="undefined"?false:true;T.onBeforeClose.call(this,i);var n=a;a=false;S=false;x=false;E=false;clearInterval(w);if(t===true){s.off("click touch touchstart")}e(".lightGallery").off("mousedown mouseup");e("body").off("touchstart.lightGallery touchmove.lightGallery touchend.lightGallery");e(window).off("resize.lightGallery keyup.lightGallery");if(n===true){l.addClass("fadeM");setTimeout(function(){c.remove();e("body").removeClass("lightGallery")},500)}T.onCloseAfter.call(this,i)};N.init();return this}})(jQuery)